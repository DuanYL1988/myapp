2020/6/25
Q:mybatis中oracle如何实现主键自增?
A:使用SEQUENCE,在insert文中直接使用select SEQUENCE.nextval from dual会报ORA-02287: 此处不允许序号错误
解决方法如下:
    <insert id="insert" parameterType="com.app.model.HeroMaster" >
        <selectKey resultType="java.lang.Integer" order="BEFORE" keyProperty="id">
        SELECT SEQ_HERO_MASTER.NEXTVAL FROM DUAL
        </selectKey>
    INSERT INTO HERO_MASTER(
    <include refid="insert_column_list"></include>
    ) VALUES (
      #{id}
      ,#{name}
      ,#{origin}
      ,#{expandCol1}
      ,#{expandCol2}
      ,#{expandCol3}
    )
  </insert>